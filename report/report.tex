\documentclass[12pt,oneside,a4paper]{article}

\usepackage[backend=biber,style=numeric]{biblatex}
\usepackage{xcolor}
\usepackage{todonotes}
\usepackage{amsmath}
\usepackage{multicol}
\usepackage{caption}
\usepackage{hyperref}
\usepackage{graphicx}
\usepackage{listings}
\lstset{
	frame=top,frame=bottom,
	language=C,
	basicstyle=\small\normalfont,
	xleftmargin=\parindent,
	keywordstyle=\color{green!40!black},
	%  commentstyle=\itshape\color{purple!40!black},
	%  identifierstyle=\color{blue},
	%  stringstyle=\color{orange},
	morekeywords={in, globaldata, procedure, input, output, behavior, end, XOR, NOT, AND}, % keyword to highlight
	%  captionpos=t,
	tabsize=2,
	numbers=left,
	stepnumber=1,                   % the step between two line-numbers.
	numbersep=5pt,
	framexleftmargin=10pt,
	title=\lstname,
	captionpos=t,
	showspaces=false,
}
\DeclareCaptionFormat{listing}{\rule{\dimexpr\textwidth\relax}{0.4pt}\par\vskip1pt#1#2#3}
\captionsetup[lstlisting]{format=listing,singlelinecheck=false, margin=0pt,labelsep=space,labelfont=bf}

\usepackage{booktabs}
\usepackage[noabbrev,capitalise]{cleveref}
\crefname{listing}{algorithm}{algorithms}
\Crefname{listing}{Algorithm}{Algorithms}
\renewcommand\lstlistingname{Algorithm}
\def\lstlistingcrefname{Algorithm}
\usepackage{url}

\addbibresource{assets/biblio.bib}

\title{\textbf{Quantum Circuit Simulation through Tensor Network Contractions \\ on FPGAs}}

\author{Federico Lolli, Angelo Zangari}

\date{\today}

\begin{document}

\begin{titlepage}
    \centering
    \clearpage
    \maketitle
	\thispagestyle{empty}
	\vspace*{1cm}
	% \includegraphics[width=4cm]{example.jpg} % qui mettete il vostro logo, o cancellate la linea
	\vfill
	\centering
    % FIXME: choose 1 of the 2 footers below
	% \includegraphics{footer.png}
	\includegraphics{logo_polimi.png}\includegraphics{logo_NECST.png}
\end{titlepage}

\begin{abstract}
%    Enter a short summary here. What topic do you want to investigate and why? What experiment did you perform? What were your main results and conclusion?
% DESCR intro + problem description
In the modern era of quantum computing, the need for simulation of quantum circuits on classical computers has become of paramount importance. When talking about classical computers running quantum circuits, mainly we are referring to two tasks: simulation and verification. Both of these techniques used to rely on a state vector based representation. The limitation of this approach is that the state vector dimension grows exponentially with respect to the circuit size, which renders this method spatially infeasible for larger circuits. To solve this issue we can resort to tensor network based algorithms, which map all components of the quantum circuit to appropriate tensors, forming a tensor network that can then be contracted to obtain the final state bitstrings amplitudes.

\end{abstract}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% SECTION 1
\section{Introduction}

\subsection{Objective and Scope}
% State the purpose/objectives of your project, and the scope.
objectives: develop simulation toolchain for quantum circuits on hw, in particular fpgas.
scope: simulation OR verification fo quantum circuits,

\subsection{Significance}
% Discuss the significance of this work in the context of current technological advancements and potential applications. Explain why developing a quantum simulation accelerator is important.
importance of classical simulation and classical verificatino for Random Circuit Sampling (RCS) experiments.
simulation -> sampling bitstring with bounded LXEB values -> quantifies distance between classical and quantum computing for a specific tasks
verification -> computing the exact amplitudes of bitstrings sampled in RCS experiments, in order to
\begin{enumerate}
	\item validate outputs of RCS experiments
	\item sampling-based quantum algorithms, with applications: (solving subgraph problems, generate rand nummbers)
\end{enumerate}



\subsection{Overview}
% Provide a brief overview of the report structure.
The report is organized according to the following structure:
- section 2 : a brief and exaustive explanation of the problem, backround, current challenges and motivations
- section 3 : sota reference, different methods to tackle the problem and how we relate to them
- section 4 : methods, our approach
- section 5 : FE
- section 6 : BE
- section 7 : results and discussions
- section 8 : conclusions
- section 9 : references to other material
- section 10 : the appendix contains both acronyms used in the report and, most importantly, a slightly more detailed explanation w.r.t. section 2 of the essential concepts necessary to understand the problem



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% SECTION 2
\section{Problem Explanation (Quantum Simulation)}

\subsection{Background}
% Explain what quantum simulation is and why it is challenging. Include the theoretical foundations and the practical implications.
- what is quantum computing
- what is a quantum gate
- measurement
- sampling and evaluating quality of obtained sample with LXEB

// FIXME: maybe move to challenges?
different approaches with different limitations, plus common ones:
- ap precision
- high sparsity
- cancellation of very small values which greatly affects total result

\subsection{Current Challenges}
% Highlight the key challenges in quantum simulation that your project aims to address.
limitations of current traditional methods (state vector) -> solved by using tensor network approach



main problems of tensor network based methods:
\begin{itemize}
	\item contraction path findings.
	\item efficient implementation on hw: computational complexity of newer methods (tensor network on sota gpus with hundreds of thousands of dollars worth of equipment).
\end{itemize}

in particular, decomposing problem in such a way that an fpga can compete with gpus on ops/(power+computational capacity) which can directly be translated in ops/dollar

\subsection{Motivation}
% Explain why you chose to tackle this problem and how it relates to existing research.
overcome challenges of previous methods and analyze potential benefits of using FPGAs to tackle this problem, which hasn't been done so far. previous work was discovered, but was much more of a porting of specific methods on fpga, while this project aims to develop a full fledged alternative on fpga to sota gpu methods.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% SECTION 3
\section{State of the Art Reference}

\subsection{Literature Review}
% Summarize existing work in the field of quantum simulation accelerators. Discuss various approaches, technologies used, and their limitations.
Classical simulation and verification approached with different methods:
\begin{itemize}
	\item state vector based methods : traditional way, severely limited due to ...
	\item tensor network based methods :
\end{itemize}

- gpu based accelerators (papers survey gpu and main gpu nvidia - 8xA100s with support board)

\subsection{Comparison}
% Compare different methods and highlight where your approach fits in the current landscape.
AS PAPER, COMPARISON WITH 3 METHODS
- us w.r.t. other 3 approaches on tensor contraction
- tensor network expression obtained by compiler VS simulated annealing VS other heuristics
- tensor cores ops VS streams of complex in coo with ap/floats

\subsection{Gaps}
% Identify the gaps in the current state of the art that your project aims to fill.
- decomposing operations (tens exp, mult) in simpler operations (products and sums) on packets of fixed dimension, and then composing the intermediate results





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% SECTION 4
\section{Methods}

\subsection{Design Approach}
% Describe the overall design and methodology used to develop the quantum simulation accelerator.
Simulation algorithm:
- we have circuit
- build a graph with connections representing possible expansions and contractions
- build a contraction tree and find expression
- send data to fpgas for computational
- receive results , and sample bitstring of quantum vector

\subsection{Technology Stack}
% Provide an overview of the technologies and tools used, including Vitis HLS, Rust, and OpenCL.
- for frontend, quantum circuit compiler and tensor network optimization, Rust
- for developing both fpga kernels, vitis hsl
- for hostcode, be integration and rtl export vitis + opencl

\subsection{Development Process}
% Outline the steps taken in the development process, from initial design to final implementation.
% FIXME - how does it relate to section 4 Methods/Design_Approach ?



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% SECTION 5

\section{Frontend (Host Side) Explanation}

\subsection{Architecture}
% Explain the architecture of the host side implemented in Rust. Include diagrams if necessary.

\subsection{Implementation Details}
% Provide detailed descriptions of the key components and their functionality.

\subsection{Communication}
% Explain how the host side communicates with the kernel using OpenCL. Detail any challenges faced and how they were overcome.

\subsection{Code Examples}
% Include snippets of important sections of your Rust code, explaining what each part does.




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% SECTION 6

\section{Kernel (FPGA Side) Explanation}

\subsection{Architecture}
% Describe the FPGA kernelâ€™s architecture and how it accelerates quantum simulations.

\subsection{Implementation Details}
% Provide detailed explanations of the implementation using Vitis HLS. Discuss any optimizations made for performance.

\subsection{Integration}
% Explain how the kernel integrates with the host side via OpenCL. Include diagrams and flowcharts to illustrate the process.

\subsection{Code Examples}
% Include HLS code snippets and explain their functionality.




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% SECTION 7

\section{Results and Discussion}

\subsection{Performance Metrics}
% Present the performance metrics of your accelerator. Compare them against benchmarks or other state-of-the-art solutions.

\subsection{Analysis}
% Analyze the results, discussing any improvements or unexpected outcomes. Use charts and graphs to visualize data.

\subsection{Limitations}
% Discuss the limitations of your current implementation and any potential improvements for future work.




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% SECTION 8

\section{Conclusion}

\subsection{Summary}
% Summarize the key findings and contributions of your project.

\subsection{Future Work}
% Suggest areas for future research or improvements that can be made to your quantum simulation accelerator.
- since network contraction is NP hard, find better methods (currently sota are heuristics, such as simulated annealing)
- multiple PEs for spMM in coo format
- dynamic indexes for tensor expansion

\subsection{Final Thoughts}
% Provide any concluding remarks or reflections on the project.
- deeply challenging, on many aspects, both theoretical (quantum computing) and practical (hsl, open cl). vastness of work that has been done (cover all theoretical work to find reasonable fpga advantages to solve the problem), quantum circuit compiler to get final expression to be computed, two kernels from scratch and managing their usage.




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% SECTION 9

\section{References}

\subsection{Citations}
% List all the references cited in your report in the appropriate academic format.
\printbibliography



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% SECTION 10

\section{Appendices}
% Include any supplementary material, such as full code listings or additional data, in the appendices.
An explanation of some technical terms used in the report.
- bitstring : in quantum computing, it refers to
- gate : in a quantum circuit,
- lane :
- sota : state of the art
- state vector : in a quantum circuit,
- tensor : math object that
- tensor expansion : math operation that

Brief explanation of quantum computing concepts


% Additional Tips
    % Figures and Charts: Ensure that all figures, charts, and diagrams are clearly labeled and referenced in the text. Use them to illustrate complex points and provide visual clarity.
    % Clarity and Conciseness: Make sure your writing is clear and concise. Avoid unnecessary jargon and explain technical terms where needed.


\end{document}
